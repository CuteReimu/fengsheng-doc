---
icon: trophy
order: 3
author: 奇葩の灵梦
---

# 排行与赛季

*本篇是针对线上的特殊系统的数据解读，如果你不关心这些深入的问题可以忽略。*

## 精力系统

为了避免玩家一直打人机局，我们引入了精力系统。

1. 新注册有10精力，每次打一局人机局会消耗1精力，精力不够不能进行人机局。
2. 每天在群里输入`签到`可以随机获得1到3精力，运气爆棚可以获得4精力。
3. 只要有至少一个真人和你一起玩，你不光不会消耗精力，还会获得`本局游戏真人数×2`精力。胜利方还会额外加`本局游戏真人数×2`排位分数。

## 排位分数与段位

**排位分数**是一个反映你实力的数值，数值越高代表你的实力越强。可以在群里输入`排行`来查看当前大家的分数。

::: details 详细的排位分数计算方法

*以下所说的**身份**和**神秘任务**，都是指的游戏开始时分发，游戏过程中因为技能改变的不算。*

如果你的身份是**潜伏战线**或**特工机关**，那么你会有固定的输赢分数变化：

| 人数 | 赢   | 输   |
|----|-----|-----|
| 5  | +14 | -7  |
| 6  | +21 | -7  |
| 7  | +24 | -12 |
| 8  | +36 | -12 |
| 9  | +48 | -12 |

然后我们可以根据过往的游戏数据得到不同**神秘人**任务胜率。如果你的身份是**神秘人**：

- 如果你赢了，则得分为 $\text{上述固定分数}\times\dfrac{\text{人均胜率}}{\text{神秘任务的胜率}}$

- 如果你输了，则扣分为 $\text{上述固定分数}\times\dfrac{100\%-\text{人均胜率}}{100\%-\text{神秘任务的胜率}}$

> 例如：你是5人局双面间谍，人均胜率为34.88%，双面间谍胜率为29.71%：
>
> - 你赢了的得分为 $14\times\dfrac{34.88\%}{29.71\%} \simeq 16.436$
>
> - 你输了的扣分为 $7\times\dfrac{100\%-34.88\%}{100\%-29.71\%} \simeq 5.677$

**特别地：**

1. 如果是9人局，因为样本太少，则取8人局的胜率
2. 某些身份胜率过低或过高，倍率会变得很大，这与样本太少也有关。因此我们取8%~50%为合理的胜率区间，超出这个区间的胜率会被限制在这个区间内进行计算。
3. 只计算不含人机的对局，并且会根据实时胜率动态变化

**以上是第一步**

---

再计算所有赢的人的平均分和所有输的人的平均分之差，每差10分（不足10分的部分直接舍掉），分数变化1%。

**特别地：**

- 如果你的分数过高或过低，倍率会变得很大，影响公平性。因此我们取180分~1900分为合理的分数区间，超出这个区间的分数会被限制在这个区间内进行计算。

**以上是第二步**

---

第一步和第二步之间是“加分则加算，减分则乘算”的关系。

> 例如：
>
> - 第一步会使你的分数乘以1.2倍（加0.2倍），第二步会使你的分数乘以1.2倍（加0.2倍），则总计为1.4倍（加0.2倍加0.2倍）。
>
> - 第一步会使你的分数乘以1.2倍（加0.2倍），第二步会使你的分数乘以0.8倍，则总计为1倍（0.8+0.2=1）。
>
> - 第一步会使你的分数乘以0.8倍，第二步会使你的分数乘以0.8倍，则总计为0.64倍（0.8*0.8=1）。

然后，如果你是被[顾小梦](../skills/base.md#g-顾小梦-译电科科员)带赢的，如果这局[顾小梦](../skills/base.md#g-顾小梦-译电科科员)总计带赢了3个人，则[顾小梦](../skills/base.md#g-顾小梦-译电科科员)赢的分数不变，这3个人赢的分数都除以3。

最后取整：如果你加分了，不足0.05分的部分就不算了，超过0.05分的部分就直接进1。如果你扣分了，超过0.95分的部分还是扣满1分，不足0.95分的部分就不扣了。

**特别地：**

1. 为防止分差超过1000分，导致分数变化超过100%而使倍率变为负数，额外规定：如果你赢了，至少能得1分，如果你输了，至少扣1分。
2. 如果全场所有人都赢了或者所有人都输了，则这局不计分。

:::

为了让新人更好的上分，我们对低段位进行了段位保护：

- 如果你的分数低于360分（其实是362分），则每60分会有四次段位保护，例如你当前分数是365分，不管应该输多少分都只会掉到362分，再输一次掉到361分，直到掉到359分才会失去保护。
- 如果你的分数低于180分，则每10分会有一次段位保护，例如你当前分数是172分，不管应该输多少分都只会掉到170分。和上一条同时生效。
- 如果你的分数低于60分，则每局最多掉2分。和前两条同时生效。
- 不会掉到0分以下。

另外，在加入了人机之后，我们为了鼓励真人局，还会有额外的真人局奖励，具体可以在上面的[精力系统](#精力系统)中查看。

**这里列出了段位分数对照表**

|      段位       |     分数      |     备注     |
|:-------------:|:-----------:|:----------:|
|  👑 V - 👑 I  |   ≥ 1500    | 每100分一个小段位 |
|  💎 V - 💎 I  | 1000 - 1499 | 每100分一个小段位 |
|  💍 V - 💍 I  |  600 - 999  | 每80分一个小段位  |
| 🏅 III - 🏅 I |  360 - 599  | 每80分一个小段位  |
| 🏅 V - 🏅 IV  |  240 - 359  | 每60分一个小段位  |
| 🥈 III - 🥈 I |  60 - 239   | 每60分一个小段位  |
| 🥉 III - 🥉 I |   0 - 59    | 每20分一个小段位  |

## 赛季

从2024年1月开始，我们正式进入了每三个月一个赛季的模式。赛季结算时，所有人的赛季场次和胜场都会清空，段位分数会减半。并且会以赛季中达到过的最高分数进行排名，实力较强者会上榜到[历史赛季](/toplist.md)
页面。

除此之外，还会根据当前赛季达到的最高段位获得赛季勋章，在游戏中可以看到历史获得的勋章。

| 当前赛季最高段位 | 获得勋章 |
|:--------:|:----:|
|   👑 I   |  👑  |
| 💎 I 以上  |  💎  |
| 💍 I 以上  |  💍  |
| 🏅 I 以上  |  🏅  |
| 🏅 II 以下 |  无   |

<style scoped>
  table {
    text-wrap: nowrap;
  }

  .katex {
    text-wrap: nowrap;
  }
</style>